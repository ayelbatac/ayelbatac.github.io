<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>U = U: The Science Is Clear - Ayel L. R. Batac</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-0815c480559380816a4d1ea211a47e91.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-a14e3238c51140e99ccc48519b6ed9ce.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- meta.html -->
<meta property="og:title" content="U = U: The Science Is Clear - Ayel L. R. Batac">
<meta property="og:description" content="">
<meta property="og:image" content="https://ayelbatac.github.io/logo.png">
<meta property="og:url" content="https://ayelbatac.github.io">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="U = U: The Science Is Clear - Ayel L. R. Batac">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://ayelbatac.github.io/logo.png">
<title>U = U: The Science Is Clear - Ayel L. R. Batac</title>
<meta name="description" content="An accessible explanation of Undetectable = Untransmittable (U = U), the science behind it, and why it matters for HIV prevention, stigma reduction, and public health.">
<meta name="keywords" content="U = U, U=U, HIV, undetectable, untransmittable, HIV prevention, antiretroviral therapy, ART, stigma, public health, knowledge translation, Ayel Batac, global health, epidemiologist">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title"><a href="index.html" style="display: flex; align-items: center; gap: 0.5rem; text-decoration: none; color: white;"> <img src="logo.png" alt="Logo" style="height: 60px;"> <strong>Ayel L. R. Batac</strong> </a></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./research.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./publications.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-knowledge-translation" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Knowledge Translation</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-knowledge-translation">    
        <li>
    <a class="dropdown-item" href="./infographics.html">
 <span class="dropdown-text">Infographics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./blog.html">
 <span class="dropdown-text">Blog</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./talks.html">
 <span class="dropdown-text">Talks and Presentations</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">U = U: The Science Is Clear - Ayel L. R. Batac</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<style>
  h1, h2, h3, p {
    color: #1B153E;
  }
  a.study-button {
    background-color: #1B153E;
    color: white;
    padding: 0.6rem 1.2rem;
    border-radius: 6px;
    text-decoration: none;
    font-weight: bold;
    display: inline-block;
    transition: background-color 0.3s ease;
  }
  a.study-button:hover {
    background-color: #DE2221;
    color: white;
  }
</style>
<section id="u-u-the-science-the-message-and-why-it-matters" class="level1">
<h1>U = U: The Science, the Message, and Why It Matters</h1>
<p>May 23, 2025</p>
<p><span class="math inline">\(~\)</span></p>
<p>What if one of the most powerful tools we have to stop HIV transmission is something most people have never even heard of?</p>
<p>It‚Äôs called <strong>U = U</strong> ‚Äî short for <strong>Undetectable = Untransmittable</strong> ‚Äî and it means that a person living with HIV who is on effective treatment and maintains an undetectable viral load <strong>cannot pass the virus to others through sex</strong>. Not ‚Äúreduced risk‚Äù. Not ‚Äúless likely‚Äù. <strong>Zero transmission.</strong></p>
<p>This isn‚Äôt just a message of hope. It‚Äôs a message of science. And it has the power to change how we think about HIV, how we support those who live with it, and how we end stigma once and for all.</p>
<section id="what-does-u-u-actually-mean" class="level3">
<h3 class="anchored" data-anchor-id="what-does-u-u-actually-mean">What Does U = U Actually Mean?</h3>
<p>When someone living with HIV takes antiretroviral therapy (ART) consistently, the amount of virus in their body drops to such low levels that it becomes <strong>undetectable</strong> on standard blood tests. The virus isn‚Äôt cured ‚Äî but it is controlled.</p>
<p>And here‚Äôs the most important part: when HIV is undetectable, it <strong>cannot be passed on sexually</strong>.</p>
<p>This is not a theory. It‚Äôs a fact, confirmed by some of the most significant research studies in HIV science:</p>
<section id="hptn-052-study-2011" class="level4">
<h4 class="anchored" data-anchor-id="hptn-052-study-2011">üß™ <a href="https://doi.org/10.1056/nejmoa1105243"><strong>HPTN 052 Study (2011)</strong></a></h4>
<p>This groundbreaking clinical trial followed over <strong>1,700 mostly heterosexual couples</strong> across multiple continents. One partner in each couple was HIV-positive. The study compared couples where the HIV-positive partner started treatment early with those who delayed treatment.</p>
<p><strong>Only one linked transmission</strong> occurred in the early treatment group, and it happened shortly after therapy began. In contrast, <strong>27 linked transmissions</strong> occurred in the delayed treatment group. This resulted in a <strong>96% reduction in risk</strong> ‚Äî one of the first and strongest proofs that <strong>ART can prevent transmission</strong>.</p>
<div style="margin: 1rem 0;">
<a href="https://doi.org/10.1056/nejmoa1105243" class="study-button">Read the HPTN 052 Study Here</a>
</div>
</section>
<section id="partner-study-2016" class="level4">
<h4 class="anchored" data-anchor-id="partner-study-2016">üß™ <a href="https://doi.org/10.1001/jama.2016.5148"><strong>PARTNER Study (2016)</strong></a></h4>
<p>This European study followed <strong>888 couples</strong> (340 gay male and 548 heterosexual) where one partner was HIV-positive and on effective ART. Over <strong>1,238 couple-years of follow-up</strong>, participants reported tens of thousands of condomless sex acts.</p>
<p><strong>No HIV transmissions occurred between partners</strong>. Of the 11 infections observed, genetic testing confirmed all came from outside the primary relationship. The takeaway? When someone is on ART and virally suppressed, <strong>they don‚Äôt transmit HIV ‚Äî even without condoms</strong>.</p>
<div style="margin: 1rem 0;">
<a href="https://doi.org/10.1001/jama.2016.5148" class="study-button">Read the PARTNER Study Here</a>
</div>
</section>
<section id="partner2-study-2019" class="level4">
<h4 class="anchored" data-anchor-id="partner2-study-2019">üß™ <a href="https://doi.org/10.1016/s0140-6736(19)30418-0"><strong>PARTNER2 Study (2019)</strong></a></h4>
<p>This follow-up study focused exclusively on <strong>gay male couples</strong> ‚Äî a group often considered at higher risk for HIV transmission. Over <strong>1,593 couple-years of follow-up</strong>, participants reported about <strong>76,088 acts of condomless anal sex</strong> while the HIV-positive partner had a suppressed viral load.</p>
<p>Again, <strong>no HIV transmissions occurred</strong>. This study confirmed what PARTNER1 had shown and extended it to even the highest-risk types of sex: <strong>U = U holds true, even during anal sex among MSM partners</strong>.</p>
<p>These three landmark studies give us what is rare in public health: <strong>definitive evidence</strong>. People living with HIV who are undetectable <strong>cannot transmit the virus through sex</strong>. Full stop.</p>
<div style="margin: 1rem 0;">
<a href="https://doi.org/10.1016/s0140-6736(19)30418-0" class="study-button">Read the PARTNER2 Study Here</a>
</div>
</section>
</section>
<section id="why-this-message-matters" class="level3">
<h3 class="anchored" data-anchor-id="why-this-message-matters">Why This Message Matters</h3>
<p>Imagine being in a relationship, taking your medication every day, and knowing, with confidence, that you cannot transmit HIV to the person you love. That‚Äôs the kind of peace and freedom U = U makes possible.</p>
<p>But for too long, HIV has been surrounded by fear, misunderstanding, and silence. Many people still hold outdated ideas ‚Äî that HIV can be passed through hugging, sharing food, or being near someone living with the virus. These misconceptions are not just wrong; they isolate people and fuel stigma.</p>
<p>U = U tells a different story. A story based in science. It reminds us that with access to treatment and care, people living with HIV can enjoy full, loving, and healthy lives. They can be intimate, have families, and move through the world without fear of harming others, because <strong>they can‚Äôt transmit the virus when undetectable</strong>.</p>
<p>This knowledge is not only medically important ‚Äî it‚Äôs emotionally and socially liberating.</p>
</section>
<section id="from-science-to-society-where-we-stand-now" class="level3">
<h3 class="anchored" data-anchor-id="from-science-to-society-where-we-stand-now">From Science to Society: Where We Stand Now</h3>
<p>Despite the overwhelming evidence, <strong>U = U is still not widely communicated</strong>. In many parts of the world, healthcare workers may not mention it, patients may not be aware of it, and systems may not support the testing and treatment access needed to achieve undetectable status.</p>
<p>Stigma continues to be one of the biggest obstacles. Too many people living with HIV are still judged unfairly, discriminated against, or made to feel unsafe ‚Äî even when they pose no risk to others.</p>
<p>This is why sharing U = U matters so deeply. It challenges fear with facts. It replaces shame with dignity. And it builds a foundation of trust ‚Äî between people, partners, and health systems.</p>
</section>
<section id="u-u-and-the-bigger-picture-of-hiv-prevention" class="level3">
<h3 class="anchored" data-anchor-id="u-u-and-the-bigger-picture-of-hiv-prevention">U = U and the Bigger Picture of HIV Prevention</h3>
<p>U = U is a major breakthrough, but it‚Äôs part of a broader strategy for HIV prevention. Other essential tools include:</p>
<ul>
<li><strong>Routine HIV testing</strong></li>
<li><strong>PrEP (pre-exposure prophylaxis)</strong> for HIV-negative individuals</li>
<li><strong>Condoms and harm reduction programs</strong></li>
<li><strong>Supportive, stigma-free care environments</strong></li>
</ul>
<p>When these tools work together, they help create communities where <strong>HIV is no longer something to fear, but something we know how to manage ‚Äî together</strong>.</p>
</section>
<section id="equity-and-access-still-matter" class="level3">
<h3 class="anchored" data-anchor-id="equity-and-access-still-matter">Equity and Access Still Matter</h3>
<p>It‚Äôs important to acknowledge that <strong>not everyone has equal access</strong> to ART, viral load monitoring, or supportive healthcare. In many low- and middle-income countries, and even in marginalized communities within high-income ones ‚Äî systemic barriers still limit what‚Äôs possible.</p>
<p>That‚Äôs why U = U must go hand-in-hand with efforts to ensure <strong>universal access to treatment</strong>, routine testing, and public education. This message is only as powerful as it is <strong>reachable</strong>.</p>
<p>Everyone deserves the opportunity to be undetectable ‚Äî and untransmittable.</p>
</section>
<section id="featuring-the-message-u-u-in-one-glance" class="level3">
<h3 class="anchored" data-anchor-id="featuring-the-message-u-u-in-one-glance">Featuring the Message: U = U in One Glance</h3>
<p>To support the points discussed above, the following infographic provides a clear and accessible summary of what U = U means and why it matters. It‚Äôs a helpful visual to reinforce key information and support understanding:</p>
<p><img src="hiv.png" alt="U=U infographic" style="display: block; margin: 2rem auto; max-width: 100%;"></p>
<p>This image highlights several core takeaways:</p>
<ul>
<li><strong>What ‚Äúundetectable‚Äù means</strong>: With effective HIV treatment, the virus is suppressed so low it can‚Äôt be detected by standard tests ‚Äî this is called having an undetectable viral load.</li>
<li><strong>What it means for prevention</strong>: A person with an undetectable viral load <strong>cannot pass HIV through sex</strong>. This is not just reassuring ‚Äî it‚Äôs scientifically proven.</li>
</ul>
</section>
<section id="why-this-changes-everything" class="level3">
<h3 class="anchored" data-anchor-id="why-this-changes-everything">Why This Changes Everything</h3>
<p>So what does this all mean for us, right now?</p>
<p>This message isn‚Äôt just about reducing risk ‚Äî it‚Äôs about changing lives:</p>
<ul>
<li>‚úÖ <strong>U = U reduces stigma</strong> by replacing fear with facts. When people know that those with undetectable HIV cannot transmit the virus, it chips away at the misinformation that fuels rejection and discrimination.</li>
<li>‚úÖ <strong>It encourages treatment and testing</strong> by showing that knowing your status and accessing ART has both personal and public benefits.</li>
<li>‚úÖ <strong>It builds trust in public health</strong> by demonstrating how scientific evidence can empower people, not just diagnose them.</li>
<li>‚úÖ <strong>It empowers people living with HIV</strong> to live openly, form relationships, and plan families ‚Äî all without fear of transmission.</li>
</ul>
<p>But while U = U addresses HIV prevention, it‚Äôs also important to remember:</p>
<blockquote class="blockquote">
<p>üõ°Ô∏è <strong>PrEP protects only against HIV ‚Äî not other STIs.</strong></p>
</blockquote>
<p>PrEP (pre-exposure prophylaxis) is a powerful tool that helps HIV-negative individuals stay HIV-negative. But it does <strong>not</strong> prevent other sexually transmitted infections. That means protection like <strong>condoms</strong> still plays a key role ‚Äî especially when it comes to preventing infections like gonorrhea, chlamydia, syphilis, and hepatitis B or C.</p>
<blockquote class="blockquote">
<p>‚ö†Ô∏è <strong>U = U doesn‚Äôt prevent other STBBIs.</strong></p>
</blockquote>
<p>Sexually transmitted and blood-borne infections like <strong>chlamydia, gonorrhea, syphilis, hepatitis B and C</strong>, and others can still be transmitted, even when HIV is undetectable. That‚Äôs why using <strong>condoms</strong> consistently and correctly remains essential. Condoms offer strong protection not only against HIV but also against a wide range of STIs and STBBIs.</p>
<p>By combining strategies like <strong>U = U</strong>, <strong>PrEP</strong>, and especially <strong>consistent condom use</strong>, individuals can build a well-rounded approach to sexual health that protects not only against HIV, but also against a wide range of other STBBIs ‚Äî fostering both physical health and human dignity.</p>
<p>Being undetectable changes what‚Äôs possible ‚Äî but <strong>a comprehensive approach</strong> to sexual health is what keeps everyone safe, healthy, and respected.</p>
</section>
<section id="the-bottom-line" class="level3">
<h3 class="anchored" data-anchor-id="the-bottom-line">The Bottom Line</h3>
<p>Let‚Äôs be absolutely clear:</p>
<ul>
<li>A person living with HIV who is on effective treatment and has an undetectable viral load <strong>cannot transmit the virus sexually</strong>.</li>
<li>This truth is backed by science, supported by real-world evidence, and endorsed by leading global health organizations.</li>
<li>U = U is a public health breakthrough ‚Äî and a message of hope, equity, and human dignity.</li>
</ul>
<p>The more we share this message, the more we break down stigma, build trust, and empower people ‚Äî no matter their status.</p>
<p>Thank you for being here. Let‚Äôs keep talking.</p>
<p>-Ayel</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/ayelbatac\.github\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright ¬© 2025 Ayel L. R. Batac. All Rights Reserved.</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>